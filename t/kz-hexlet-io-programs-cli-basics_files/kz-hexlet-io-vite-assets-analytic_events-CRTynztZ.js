function Xn(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function tt(e,t,n,r,a){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:a;return e===a?n:e}var Oe="undefined",nt="object",Et="any",xt="*",re="__",Me=typeof process<"u"?process:{};Me.env&&Me.env.NODE_ENV;var X=typeof document<"u";Me.versions!=null&&Me.versions.node!=null;typeof Deno<"u"&&Deno.core;X&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent!==void 0&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"));function _t(e,t){return t.charAt(0)[e]()+t.slice(1)}var Ft=_t.bind(null,"toUpperCase"),Wt=_t.bind(null,"toLowerCase");function Xt(e){return Ot(e)?Ft("null"):typeof e=="object"?Qt(e):Object.prototype.toString.call(e).slice(8,-1)}function ze(e,t){t===void 0&&(t=!0);var n=Xt(e);return t?Wt(n):n}function xe(e,t){return typeof t===e}var H=xe.bind(null,"function"),ce=xe.bind(null,"string"),oe=xe.bind(null,"undefined"),Yt=xe.bind(null,"boolean");xe.bind(null,"symbol");function Ot(e){return e===null}function Ht(e){return ze(e)==="number"&&!isNaN(e)}function Gt(e){return ze(e)==="array"}function J(e){if(!Kt(e))return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Kt(e){return e&&(typeof e=="object"||e!==null)}function Qt(e){return H(e.constructor)?e.constructor.name:null}function Zt(e){return e instanceof Error||ce(e.message)&&e.constructor&&Ht(e.constructor.stackTraceLimit)}function kt(e,t){if(typeof t!="object"||Ot(t))return!1;if(t instanceof e)return!0;var n=ze(new e(""));if(Zt(t))for(;t;){if(ze(t)===n)return!0;t=Object.getPrototypeOf(t)}return!1}kt.bind(null,TypeError);kt.bind(null,SyntaxError);function Ue(e,t){var n=e instanceof Element||e instanceof HTMLDocument;return n&&t?en(e,t):n}function en(e,t){return t===void 0&&(t=""),e&&e.nodeName===t.toUpperCase()}function De(e){var t=[].slice.call(arguments,1);return function(){return e.apply(void 0,[].slice.call(arguments).concat(t))}}De(Ue,"form");De(Ue,"button");De(Ue,"input");De(Ue,"select");function rt(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function tn(){if(X){var e=navigator,t=e.languages;return e.userLanguage||(t&&t.length?t[0]:e.language)}}function nn(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}}function rn(e){return function(t){for(var n,r=Object.create(null),a=/([^&=]+)=?([^&]*)/g;n=a.exec(t);){var c=rt(n[1]),u=rt(n[2]);if(c)if(c.substring(c.length-2)==="[]"){var s=r[c=c.substring(0,c.length-2)]||(r[c]=[]);r[c]=Array.isArray(s)?s:[],r[c].push(u)}else r[c]=u===""||u}for(var h in r){var m=h.split("[");m.length>1&&(an(r,m.map(function(T){return T.replace(/[?[\]\\ ]/g,"")}),r[h]),delete r[h])}return r}(function(t){return X&&window.location.search.substring(1)}())}function an(e,t,n){for(var r=t.length-1,a=0;a<r;++a){var c=t[a];if(c==="__proto__"||c==="constructor")break;c in e||(e[c]={}),e=e[c]}e[t[r]]=n}function Le(){for(var e="",t=0,n=4294967295*Math.random()|0;t++<36;){var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[t-1],a=15&n;e+=r=="-"||r=="4"?r:(r=="x"?a:3&a|8).toString(16),n=t%8==0?4294967295*Math.random()|0:n>>4}return e}var we="global",de=re+"global"+re,pe=typeof self===nt&&self.self===self&&self||typeof global===nt&&global.global===global&&global||void 0;function ie(e){return pe[de][e]}function ae(e,t){return pe[de][e]=t}function ge(e){delete pe[de][e]}function ve(e,t,n){var r;try{if(Ye(e)){var a=window[e];r=a[t].bind(a)}}catch(c){}return r||n}pe[de]||(pe[de]={});var ke={};function Ye(e){if(typeof ke[e]!==Oe)return ke[e];try{var t=window[e];t.setItem(Oe,Oe),t.removeItem(Oe)}catch(n){return ke[e]=!1}return ke[e]=!0}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}var Z="function",K="undefined",on="@@redux/"+Math.random().toString(36),it=function(){return typeof Symbol===Z&&Symbol.observable||"@@observable"}(),je=" != "+Z;function jt(e,t,n){var r;if(typeof t===Z&&typeof n===K&&(n=t,t=void 0),typeof n!==K){if(typeof n!==Z)throw new Error("enhancer"+je);return n(jt)(e,t)}if(typeof e!==Z)throw new Error("reducer"+je);var a=e,c=t,u=[],s=u,h=!1;function m(){s===u&&(s=u.slice())}function T(){return c}function d(g){if(typeof g!==Z)throw new Error("Listener"+je);var j=!0;return m(),s.push(g),function(){if(j){j=!1,m();var I=s.indexOf(g);s.splice(I,1)}}}function E(g){if(!J(g))throw new Error("Act != obj");if(typeof g.type===K)throw new Error("ActType "+K);if(h)throw new Error("Dispatch in reducer");try{h=!0,c=a(c,g)}finally{h=!1}for(var j=u=s,I=0;I<j.length;I++)(0,j[I])();return g}return E({type:"@@redux/INIT"}),(r={dispatch:E,subscribe:d,getState:T,replaceReducer:function(g){if(typeof g!==Z)throw new Error("next reducer"+je);a=g,E({type:"@@redux/INIT"})}})[it]=function(){var g,j=d;return(g={subscribe:function(I){if(typeof I!="object")throw new TypeError("Observer != obj");function b(){I.next&&I.next(T())}return b(),{unsubscribe:j(b)}}})[it]=function(){return this},g},r}function un(e,t){var n=t&&t.type;return"action "+(n&&n.toString()||"?")+"reducer "+e+" returns "+K}function me(){var e=[].slice.call(arguments);return e.length===0?function(t){return t}:e.length===1?e[0]:e.reduce(function(t,n){return function(){return t(n.apply(void 0,[].slice.call(arguments)))}})}function cn(){var e=arguments;return function(t){return function(n,r,a){var c,u=t(n,r,a),s=u.dispatch,h={getState:u.getState,dispatch:function(m){return s(m)}};return c=[].slice.call(e).map(function(m){return m(h)}),y({},u,{dispatch:s=me.apply(void 0,c)(u.dispatch)})}}}var ee=re+"anon_id",ne=re+"user_id",se=re+"user_traits",Q="userId",ue="anonymousId",$e=["bootstrap","params","campaign","initializeStart","initialize","initializeEnd","ready","resetStart","reset","resetEnd","pageStart","page","pageEnd","pageAborted","trackStart","track","trackEnd","trackAborted","identifyStart","identify","identifyEnd","identifyAborted","userIdChanged","registerPlugins","enablePlugin","disablePlugin","online","offline","setItemStart","setItem","setItemEnd","setItemAborted","removeItemStart","removeItem","removeItemEnd","removeItemAborted"],We=["name","EVENTS","config","loaded"],v=$e.reduce(function(e,t){return e[t]=t,e},{registerPluginType:function(e){return"registerPlugin:"+e},pluginReadyType:function(e){return"ready:"+e}}),at=/^utm_/,ot=/^an_prop_/,ut=/^an_trait_/;function sn(e){var t=e.storage.setItem;return function(n){return function(r){return function(a){if(a.type===v.bootstrap){var c=a.params,u=a.user,s=a.persistedUser,h=a.initialUser,m=s.userId===u.userId;s.anonymousId!==u.anonymousId&&t(ee,u.anonymousId),m||t(ne,u.userId),h.traits&&t(se,y({},m&&s.traits?s.traits:{},h.traits));var T=Object.keys(a.params);if(T.length){var d=c.an_uid,E=c.an_event,g=T.reduce(function(j,I){if(I.match(at)||I.match(/^(d|g)clid/)){var b=I.replace(at,"");j.campaign[b==="campaign"?"name":b]=c[I]}return I.match(ot)&&(j.props[I.replace(ot,"")]=c[I]),I.match(ut)&&(j.traits[I.replace(ut,"")]=c[I]),j},{campaign:{},props:{},traits:{}});n.dispatch(y({type:v.params,raw:c},g,d?{userId:d}:{})),d&&setTimeout(function(){return e.identify(d,g.traits)},0),E&&setTimeout(function(){return e.track(E,g.props)},0),Object.keys(g.campaign).length&&n.dispatch({type:v.campaign,campaign:g.campaign})}}return r(a)}}}}function ln(e){return function(t,n){if(t===void 0&&(t={}),n===void 0&&(n={}),n.type===v.setItemEnd){if(n.key===ee)return y({},t,{anonymousId:n.value});if(n.key===ne)return y({},t,{userId:n.value})}switch(n.type){case v.identify:return Object.assign({},t,{userId:n.userId,traits:y({},t.traits,n.traits)});case v.reset:return[ne,ee,se].forEach(function(r){e.removeItem(r)}),Object.assign({},t,{userId:null,anonymousId:null,traits:{}});default:return t}}}function ct(e){return{userId:e.getItem(ne),anonymousId:e.getItem(ee),traits:e.getItem(se)}}var Xe=function(e){return re+"TEMP"+re+e};function fn(e){var t=e.storage,n=t.setItem,r=t.removeItem,a=t.getItem;return function(c){return function(u){return function(s){var h=s.userId,m=s.traits,T=s.options;if(s.type===v.reset&&([ne,se,ee].forEach(function(g){r(g)}),[Q,ue,"traits"].forEach(function(g){ge(Xe(g))})),s.type===v.identify){a(ee)||n(ee,Le());var d=a(ne),E=a(se)||{};d&&d!==h&&c.dispatch({type:v.userIdChanged,old:{userId:d,traits:E},new:{userId:h,traits:m},options:T}),h&&n(ne,h),m&&n(se,y({},E,m))}return u(s)}}}}var be={};function st(e,t){be[e]&&H(be[e])&&(be[e](t),delete be[e])}function Nt(e,t,n){return new Promise(function(r,a){return t()?r(e):n<1?a(y({},e,{queue:!0})):new Promise(function(c){return setTimeout(c,10)}).then(function(c){return Nt(e,t,n-10).then(r,a)})})}function dn(e){return{abort:e}}function At(e,t,n){var r={},a=t(),c=e.getState(),u=c.plugins,s=c.queue,h=c.user;if(!c.context.offline&&s&&s.actions&&s.actions.length){var m=s.actions.reduce(function(d,E,g){return u[E.plugin].loaded?(d.process.push(E),d.processIndex.push(g)):(d.requeue.push(E),d.requeueIndex.push(g)),d},{processIndex:[],process:[],requeue:[],requeueIndex:[]});if(m.processIndex&&m.processIndex.length){m.processIndex.forEach(function(d){var E=s.actions[d],g=E.plugin,j=E.payload.type,I=a[g][j];if(I&&H(I)){var b,x=function(p,l){return p===void 0&&(p={}),l===void 0&&(l={}),[Q,ue].reduce(function(z,_){return p.hasOwnProperty(_)&&l[_]&&l[_]!==p[_]&&(z[_]=l[_]),z},p)}(E.payload,h),M=r[x.meta.rid];if(!M&&(b=I({payload:x,config:u[g].config,instance:n,abort:dn}))&&J(b)&&b.abort)return void(r[x.meta.rid]=!0);if(!M){var $=j+":"+g;e.dispatch(y({},x,{type:$,_:{called:$,from:"queueDrain"}}))}}});var T=s.actions.filter(function(d,E){return!~m.processIndex.indexOf(E)});s.actions=T}}}var Re=function(e){var t=e.data,n=e.action,r=e.instance,a=e.state,c=e.allPlugins,u=e.allMatches,s=e.store,h=e.EVENTS;try{var m=a.plugins,T=a.context,d=n.type,E=d.match(le),g=t.exact.map(function(b){return b.pluginName});E&&(g=u.during.map(function(b){return b.pluginName}));var j=function(b,x){return function(M,$,p){var l=$.config,z=$.name,_=z+"."+M.type;p&&(_=p.event);var N=M.type.match(le)?function(D,U,F,L,W){return function(q,w){var R=L?L.name:D,B=w&&Ee(w)?w:F;if(L&&(!(B=w&&Ee(w)?w:[D]).includes(D)||B.length!==1))throw new Error("Method "+U+" can only abort "+D+" plugin. "+JSON.stringify(B)+" input valid");return y({},W,{abort:{reason:q,plugins:B,caller:U,_:R}})}}(z,_,x,p,M):function(D,U){return function(){throw new Error(D.type+" action not cancellable. Remove abort in "+U)}}(M,_);return{payload:pn(M),instance:b,config:l||{},abort:N}}}(r,g),I=t.exact.reduce(function(b,x){var M=x.pluginName,$=x.methodName,p=!1;return $.match(/^initialize/)||$.match(/^reset/)||(p=!m[M].loaded),T.offline&&$.match(/^(page|track|identify)/)&&(p=!0),b[""+M]=p,b},{});return Promise.resolve(t.exact.reduce(function(b,x,M){try{var $=x.pluginName;return Promise.resolve(b).then(function(p){function l(){return Promise.resolve(p)}var z=function(){if(t.namespaced&&t.namespaced[$])return Promise.resolve(t.namespaced[$].reduce(function(_,N,D){try{return Promise.resolve(_).then(function(U){return N.method&&H(N.method)?(function(q,w){var R=vt(q);if(R&&R.name===w){var B=vt(R.method);throw new Error([w+" plugin is calling method "+q,"Plugins cant call self","Use "+R.method+" "+(B?"or "+B.method:"")+" in "+w+" plugin insteadof "+q].join("\n"))}}(N.methodName,N.pluginName),Promise.resolve(N.method({payload:U,instance:r,abort:(F=U,L=$,W=N.pluginName,function(q,w){return y({},F,{abort:{reason:q,plugins:w||[L],caller:d,from:W||L}})}),config:dt(N.pluginName,m,c),plugins:m})).then(function(q){var w=J(q)?q:{};return Promise.resolve(y({},U,w))})):U;var F,L,W})}catch(U){return Promise.reject(U)}},Promise.resolve(n))).then(function(_){p[$]=_});p[$]=n}();return z&&z.then?z.then(l):l()})}catch(p){return Promise.reject(p)}},Promise.resolve({}))).then(function(b){return Promise.resolve(t.exact.reduce(function(x,M,$){try{var p=t.exact.length===$+1,l=M.pluginName,z=c[l];return Promise.resolve(x).then(function(_){var N=b[l]?b[l]:{};if(E&&(N=_),Je(N,l))return Be({data:N,method:d,instance:r,pluginName:l,store:s}),Promise.resolve(_);if(Je(_,l))return p&&Be({data:_,method:d,instance:r,store:s}),Promise.resolve(_);if(I.hasOwnProperty(l)&&I[l]===!0)return s.dispatch({type:"queue",plugin:l,payload:N,_:{called:"queue",from:"queueMechanism"}}),Promise.resolve(_);var D=j(b[l],c[l]);return Promise.resolve(z[d]({abort:D.abort,payload:N,instance:r,config:dt(l,m,c),plugins:m})).then(function(U){var F=J(U)?U:{},L=y({},_,F),W=b[l];if(Je(W,l))Be({data:W,method:d,instance:r,pluginName:l,store:s});else{var q=d+":"+l;(q.match(/:/g)||[]).length<2&&!d.match(lt)&&!d.match(ft)&&r.dispatch(y({},E?L:N,{type:q,_:{called:q,from:"submethod"}}))}return Promise.resolve(L)})})}catch(_){return Promise.reject(_)}},Promise.resolve(n))).then(function(x){if(!(d.match(le)||d.match(/^registerPlugin/)||d.match(ft)||d.match(lt)||d.match(/^params/)||d.match(/^userIdChanged/))){if(h.plugins.includes(d),x._&&x._.originalAction===d)return x;var M=y({},x,{_:{originalAction:x.type,called:x.type,from:"engineEnd"}});Tt(x,t.exact.length)&&!d.match(/End$/)&&(M=y({},M,{type:x.type+"Aborted"})),s.dispatch(M)}return x})})}catch(b){return Promise.reject(b)}},le=/Start$/,lt=/^bootstrap/,ft=/^ready/;function Be(e){var t=e.pluginName,n=e.method+"Aborted"+(t?":"+t:"");e.store.dispatch(y({},e.data,{type:n,_:{called:n,from:"abort"}}))}function dt(e,t,n){var r=t[e]||n[e];return r&&r.config?r.config:{}}function pt(e,t){return t.reduce(function(n,r){return r[e]?n.concat({methodName:e,pluginName:r.name,method:r[e]}):n},[])}function mt(e,t){var n=e.replace(le,""),r=t?":"+t:"";return[""+e+r,""+n+r,n+"End"+r]}function Je(e,t){var n=e.abort;return!!n&&(n===!0||gt(n,t)||n&&gt(n.plugins,t))}function Tt(e,t){var n=e.abort;if(!n)return!1;if(n===!0||ce(n))return!0;var r=n.plugins;return Ee(n)&&n.length===t||Ee(r)&&r.length===t}function Ee(e){return Array.isArray(e)}function gt(e,t){return!(!e||!Ee(e))&&e.includes(t)}function vt(e){var t=e.match(/(.*):(.*)/);return!!t&&{method:t[1],name:t[2]}}function pn(e){return Object.keys(e).reduce(function(t,n){return n==="type"||(t[n]=J(e[n])?Object.assign({},e[n]):e[n]),t},{})}function mn(e,t,n){var r={};return function(a){return function(c){return function(u){try{var s,h=function(p){return s?p:c(d)},m=u.type,T=u.plugins,d=u;if(u.abort)return Promise.resolve(c(u));if(m===v.enablePlugin&&a.dispatch({type:v.initializeStart,plugins:T,disabled:[],fromEnable:!0,meta:u.meta}),m===v.disablePlugin&&setTimeout(function(){return st(u.meta.rid,{payload:u})},0),m===v.initializeEnd){var E=t(),g=Object.keys(E),j=g.filter(function(p){return T.includes(p)}).map(function(p){return E[p]}),I=[],b=[],x=u.disabled,M=j.map(function(p){var l=p.loaded,z=p.name,_=p.config;return Nt(p,function(){return l({config:_})},1e4).then(function(N){return r[z]||(a.dispatch({type:v.pluginReadyType(z),name:z,events:Object.keys(p).filter(function(D){return!We.includes(D)})}),r[z]=!0),I=I.concat(z),p}).catch(function(N){if(N instanceof Error)throw new Error(N);return b=b.concat(N.name),N})});Promise.all(M).then(function(p){var l={plugins:I,failed:b,disabled:x};setTimeout(function(){g.length===M.length+x.length&&a.dispatch(y({},{type:v.ready},l))},0)})}var $=function(){if(m!==v.bootstrap)return/^ready:([^:]*)$/.test(m)&&setTimeout(function(){return At(a,t,e)},0),Promise.resolve(function(p,l,z,_,N){try{var D=H(l)?l():l,U=p.type,F=U.replace(le,"");if(p._&&p._.called)return Promise.resolve(p);var L=z.getState(),W=(R=D,(B=L.plugins)===void 0&&(B={}),(ye=p.options)===void 0&&(ye={}),Object.keys(R).filter(function(i){var o=ye.plugins||{};return Yt(o[i])?o[i]:o.all!==!1&&(!B[i]||B[i].enabled!==!1)}).map(function(i){return R[i]}));U===v.initializeStart&&p.fromEnable&&(W=Object.keys(L.plugins).filter(function(i){var o=L.plugins[i];return p.plugins.includes(i)&&!o.initialized}).map(function(i){return D[i]}));var q=W.map(function(i){return i.name}),w=function(i,o,f){var P=mt(i).map(function(S){return pt(S,o)});return o.reduce(function(S,O){var V=O.name,A=mt(i,V).map(function(he){return pt(he,o)}),C=A[0],k=A[1],Y=A[2];return C.length&&(S.beforeNS[V]=C),k.length&&(S.duringNS[V]=k),Y.length&&(S.afterNS[V]=Y),S},{before:P[0],beforeNS:{},during:P[1],duringNS:{},after:P[2],afterNS:{}})}(U,W);return Promise.resolve(Re({action:p,data:{exact:w.before,namespaced:w.beforeNS},state:L,allPlugins:D,allMatches:w,instance:z,store:_,EVENTS:N})).then(function(i){function o(){var S=function(){if(U.match(le))return Promise.resolve(Re({action:y({},f,{type:F+"End"}),data:{exact:w.after,namespaced:w.afterNS},state:L,allPlugins:D,allMatches:w,instance:z,store:_,EVENTS:N})).then(function(O){O.meta&&O.meta.hasCallback&&st(O.meta.rid,{payload:O})})}();return S&&S.then?S.then(function(){return i}):i}if(Tt(i,q.length))return i;var f,P=function(){if(U!==F)return Promise.resolve(Re({action:y({},i,{type:F}),data:{exact:w.during,namespaced:w.duringNS},state:L,allPlugins:D,allMatches:w,instance:z,store:_,EVENTS:N})).then(function(S){f=S});f=i}();return P&&P.then?P.then(o):o()})}catch(i){return Promise.reject(i)}var R,B,ye}(u,t,e,a,n)).then(function(p){return s=1,c(p)})}();return Promise.resolve($&&$.then?$.then(h):h($))}catch(p){return Promise.reject(p)}}}}}function gn(e){return function(t){return function(n){return function(r){var a=r.type,c=r.key,u=r.value,s=r.options;if(a===v.setItem||a===v.removeItem){if(r.abort)return n(r);a===v.setItem?e.setItem(c,u,s):e.removeItem(c,s)}return n(r)}}}}var vn=function(){var e=this;this.before=[],this.after=[],this.addMiddleware=function(t,n){e[n]=e[n].concat(t)},this.removeMiddleware=function(t,n){var r=e[n].findIndex(function(a){return a===t});r!==-1&&(e[n]=[].concat(e[n].slice(0,r),e[n].slice(r+1)))},this.dynamicMiddlewares=function(t){return function(n){return function(r){return function(a){var c={getState:n.getState,dispatch:function(s){return n.dispatch(s)}},u=e[t].map(function(s){return s(c)});return me.apply(void 0,u)(r)(a)}}}}};function yn(e){return function(t,n){t===void 0&&(t={});var r={};if(n.type==="initialize:aborted")return t;if(/^registerPlugin:([^:]*)$/.test(n.type)){var a=yt(n.type,"registerPlugin"),c=e()[a];if(!c||!a)return t;var u=n.enabled,s=c.config;return r[a]={enabled:u,initialized:!!u&&!c.initialize,loaded:!!u&&!!c.loaded({config:s}),config:s},y({},t,r)}if(/^initialize:([^:]*)$/.test(n.type)){var h=yt(n.type,v.initialize),m=e()[h];return m&&h?(r[h]=y({},t[h],{initialized:!0,loaded:!!m.loaded({config:m.config})}),y({},t,r)):t}if(/^ready:([^:]*)$/.test(n.type))return r[n.name]=y({},t[n.name],{loaded:!0}),y({},t,r);switch(n.type){case v.disablePlugin:return y({},t,ht(n.plugins,!1,t));case v.enablePlugin:return y({},t,ht(n.plugins,!0,t));default:return t}}}function yt(e,t){return e.substring(t.length+1,e.length)}function ht(e,t,n){return e.reduce(function(r,a){return r[a]=y({},n[a],{enabled:t}),r},n)}function $t(e){try{return JSON.parse(JSON.stringify(e))}catch(t){}return e}var hn={last:{},history:[]};function bn(e,t){e===void 0&&(e=hn);var n=t.options,r=t.meta;if(t.type===v.track){var a=$t(y({event:t.event,properties:t.properties},Object.keys(n).length&&{options:n},{meta:r}));return y({},e,{last:a,history:e.history.concat(a)})}return e}var wn={actions:[]};function In(e,t){e===void 0&&(e=wn);var n=t.payload;switch(t.type){case"queue":var r;return r=n&&n.type&&n.type===v.identify?[t].concat(e.actions):e.actions.concat(t),y({},e,{actions:r});case"dequeue":return[];default:return e}}var Mt=/#.*$/;function Pn(e){var t=/(http[s]?:\/\/)?([^\/\s]+\/)(.*)/g.exec(e);return"/"+(t&&t[3]?t[3].split("?")[0].replace(Mt,""):"")}var zt,Ut,Dt,Lt,Sn=function(e){if(e===void 0&&(e={}),!X)return e;var t=document,n=t.title,r=t.referrer,a=window,c=a.location,u=a.innerWidth,s=a.innerHeight,h=c.hash,m=c.search,T=function(E){var g=function(){if(X){for(var j,I=document.getElementsByTagName("link"),b=0;j=I[b];b++)if(j.getAttribute("rel")==="canonical")return j.getAttribute("href")}}();return g?g.match(/\?/)?g:g+E:window.location.href.replace(Mt,"")}(m),d={title:n,url:T,path:Pn(T),hash:h,search:m,width:u,height:s};return r&&r!==""&&(d.referrer=r),y({},d,e)},En={last:{},history:[]};function xn(e,t){e===void 0&&(e=En);var n=t.options;if(t.type===v.page){var r=$t(y({properties:t.properties,meta:t.meta},Object.keys(n).length&&{options:n}));return y({},e,{last:r,history:e.history.concat(r)})}return e}zt=function(){if(!X)return!1;var e=navigator.appVersion;return~e.indexOf("Win")?"Windows":~e.indexOf("Mac")?"MacOS":~e.indexOf("X11")?"UNIX":~e.indexOf("Linux")?"Linux":"Unknown OS"}(),Ut=X?document.referrer:null,Dt=tn(),Lt=nn();var bt={initialized:!1,sessionId:Le(),app:null,version:null,debug:!1,offline:!!X&&!navigator.onLine,os:{name:zt},userAgent:X?navigator.userAgent:"node",library:{name:"analytics",version:"0.12.16"},timezone:Lt,locale:Dt,campaign:{},referrer:Ut};function _n(e,t){e===void 0&&(e=bt);var n=e.initialized,r=t.campaign;switch(t.type){case v.campaign:return y({},e,{campaign:r});case v.offline:return y({},e,{offline:!0});case v.online:return y({},e,{offline:!1});default:return n?e:y({},bt,e,{initialized:!0})}}var On=["plugins","reducers","storage"];function kn(e,t,n){if(X){var r=window[(n?"add":"remove")+"EventListener"];e.split(" ").forEach(function(a){r(a,t)})}}function jn(e){var t=kn.bind(null,"online offline",function(n){return Promise.resolve(!navigator.onLine).then(e)});return t(!0),function(n){return t(!1)}}function Ct(){return ae("analytics",[]),function(e){return function(t,n,r){var a=e(t,n,r),c=a.dispatch;return Object.assign(a,{dispatch:function(u){return pe[de].analytics.push(u.action||u),c(u)}})}}}function wt(e){return function(){return me(me.apply(null,arguments),Ct())}}function Fe(e){return e?Gt(e)?e:[e]:[]}function It(e,t,n){e===void 0&&(e={});var r,a,c=Le();return t&&(be[c]=(r=t,a=function(u){for(var s,h=u||Array.prototype.slice.call(arguments),m=0;m<h.length;m++)if(H(h[m])){s=h[m];break}return s}(n),function(u){a&&a(u),r(u)})),y({},e,{rid:c,ts:new Date().getTime()},t?{hasCallback:!0}:{})}function Nn(e){e===void 0&&(e={});var t=e.reducers||{},n=e.initialUser||{},r=(e.plugins||[]).reduce(function(i,o){if(H(o))return i.middlewares=i.middlewares.concat(o),i;if(o.NAMESPACE&&(o.name=o.NAMESPACE),!o.name)throw new Error("https://lytics.dev/errors/1");o.config||(o.config={});var f=o.EVENTS?Object.keys(o.EVENTS).map(function(O){return o.EVENTS[O]}):[];i.pluginEnabled[o.name]=!(o.enabled===!1||o.config.enabled===!1),delete o.enabled,o.methods&&(i.methods[o.name]=Object.keys(o.methods).reduce(function(O,V){var A;return O[V]=(A=o.methods[V],function(){for(var C=Array.prototype.slice.call(arguments),k=new Array(A.length),Y=0;Y<C.length;Y++)k[Y]=C[Y];return k[k.length]=l,A.apply({instance:l},k)}),O},{}),delete o.methods);var P=Object.keys(o).concat(f),S=new Set(i.events.concat(P));if(i.events=Array.from(S),i.pluginsArray=i.pluginsArray.concat(o),i.plugins[o.name])throw new Error(o.name+"AlreadyLoaded");return i.plugins[o.name]=o,i.plugins[o.name].loaded||(i.plugins[o.name].loaded=function(){return!0}),i},{plugins:{},pluginEnabled:{},methods:{},pluginsArray:[],middlewares:[],events:[]}),a=e.storage?e.storage:{getItem:ie,setItem:ae,removeItem:ge},c=function(i){return function(o,f,P){return f.getState("user")[o]||(P&&J(P)&&P[o]?P[o]:ct(i)[o]||ie(Xe(o))||null)}}(a),u=r.plugins,s=r.events.filter(function(i){return!We.includes(i)}).sort(),h=new Set(s.concat($e).filter(function(i){return!We.includes(i)})),m=Array.from(h).sort(),T=function(){return u},d=new vn,E=d.addMiddleware,g=d.removeMiddleware,j=d.dynamicMiddlewares,I=function(){throw new Error("Abort disabled inListener")},b=rn(),x=ct(a),M=y({},x,n,b.an_uid?{userId:b.an_uid}:{},b.an_aid?{anonymousId:b.an_aid}:{});M.anonymousId||(M.anonymousId=Le());var $=y({enable:function(i,o){return new Promise(function(f){w.dispatch({type:v.enablePlugin,plugins:Fe(i),_:{originalAction:v.enablePlugin}},f,[o])})},disable:function(i,o){return new Promise(function(f){w.dispatch({type:v.disablePlugin,plugins:Fe(i),_:{originalAction:v.disablePlugin}},f,[o])})}},r.methods),p=!1,l={identify:function(i,o,f,P){try{var S=ce(i)?i:null,O=J(i)?i:o,V=f||{},A=l.user();ae(Xe(Q),S);var C=S||O.userId||c(Q,l,O);return Promise.resolve(new Promise(function(k){w.dispatch(y({type:v.identifyStart,userId:C,traits:O||{},options:V,anonymousId:A.anonymousId},A.id&&A.id!==S&&{previousId:A.id}),k,[o,f,P])}))}catch(k){return Promise.reject(k)}},track:function(i,o,f,P){try{var S=J(i)?i.event:i;if(!S||!ce(S))throw new Error("EventMissing");var O=J(i)?i:o||{},V=J(f)?f:{};return Promise.resolve(new Promise(function(A){w.dispatch({type:v.trackStart,event:S,properties:O,options:V,userId:c(Q,l,o),anonymousId:c(ue,l,o)},A,[o,f,P])}))}catch(A){return Promise.reject(A)}},page:function(i,o,f){try{var P=J(i)?i:{},S=J(o)?o:{};return Promise.resolve(new Promise(function(O){w.dispatch({type:v.pageStart,properties:Sn(P),options:S,userId:c(Q,l,P),anonymousId:c(ue,l,P)},O,[i,o,f])}))}catch(O){return Promise.reject(O)}},user:function(i){if(i===Q||i==="id")return c(Q,l);if(i===ue||i==="anonId")return c(ue,l);var o=l.getState("user");return i?tt(o,i):o},reset:function(i){return new Promise(function(o){w.dispatch({type:v.resetStart},o,i)})},ready:function(i){return p&&i({plugins:$,instance:l}),l.on(v.ready,function(o){i(o),p=!0})},on:function(i,o){if(!i||!H(o))return!1;if(i===v.bootstrap)throw new Error(".on disabled for "+i);var f=/Start$|Start:/;if(i==="*"){var P=function(A){return function(C){return function(k){return k.type.match(f)&&o({payload:k,instance:l,plugins:u}),C(k)}}},S=function(A){return function(C){return function(k){return k.type.match(f)||o({payload:k,instance:l,plugins:u}),C(k)}}};return E(P,Ne),E(S,Ae),function(){g(P,Ne),g(S,Ae)}}var O=i.match(f)?Ne:Ae,V=function(A){return function(C){return function(k){return k.type===i&&o({payload:k,instance:l,plugins:u,abort:I}),C(k)}}};return E(V,O),function(){return g(V,O)}},once:function(i,o){if(!i||!H(o))return!1;if(i===v.bootstrap)throw new Error(".once disabled for "+i);var f=l.on(i,function(P){o({payload:P.payload,instance:l,plugins:u,abort:I}),f()});return f},getState:function(i){var o=w.getState();return i?tt(o,i):Object.assign({},o)},dispatch:function(i){var o=ce(i)?{type:i}:i;if($e.includes(o.type))throw new Error("reserved action "+o.type);var f=y({},o,{_:y({originalAction:o.type},i._||{})});w.dispatch(f)},enablePlugin:$.enable,disablePlugin:$.disable,plugins:$,storage:{getItem:a.getItem,setItem:function(i,o,f){w.dispatch({type:v.setItemStart,key:i,value:o,options:f})},removeItem:function(i,o){w.dispatch({type:v.removeItemStart,key:i,options:o})}},setAnonymousId:function(i,o){l.storage.setItem(ee,i,o)},events:{core:$e,plugins:s}},z=r.middlewares.concat([function(i){return function(o){return function(f){return f.meta||(f.meta=It()),o(f)}}},j(Ne),mn(l,T,{all:m,plugins:s}),gn(a),sn(l),fn(l),j(Ae)]),_={context:_n,user:ln(a),page:xn,track:bn,plugins:yn(T),queue:In},N=me,D=me;if(X&&e.debug){var U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;U&&(N=U({trace:!0,traceLimit:25})),D=function(){return arguments.length===0?Ct():J(typeof arguments[0])?wt():wt().apply(null,arguments)}}var F,L=function(i){return Object.keys(i).reduce(function(o,f){return On.includes(f)||(o[f]=i[f]),o},{})}(e),W=r.pluginsArray.reduce(function(i,o){var f=o.name,P=o.config,S=o.loaded,O=r.pluginEnabled[f];return i[f]={enabled:O,initialized:!!O&&!o.initialize,loaded:!!S({config:P}),config:P},i},{}),q={context:L,user:M,plugins:W},w=jt(function(i){for(var o=Object.keys(i),f={},P=0;P<o.length;P++){var S=o[P];typeof i[S]===Z&&(f[S]=i[S])}var O,V=Object.keys(f);try{(function(A){Object.keys(A).forEach(function(C){var k=A[C];if(typeof k(void 0,{type:"@@redux/INIT"})===K||typeof k(void 0,{type:on})===K)throw new Error("reducer "+C+" "+K)})})(f)}catch(A){O=A}return function(A,C){if(A===void 0&&(A={}),O)throw O;for(var k=!1,Y={},he=0;he<V.length;he++){var _e=V[he],et=A[_e],Ve=(0,f[_e])(et,C);if(typeof Ve===K){var Jt=un(_e,C);throw new Error(Jt)}Y[_e]=Ve,k=k||Ve!==et}return k?Y:A}}(y({},_,t)),q,D(N(cn.apply(void 0,z))));w.dispatch=(F=w.dispatch,function(i,o,f){var P=y({},i,{meta:It(i.meta,o,Fe(f))});return F.apply(null,[P])});var R=Object.keys(u);w.dispatch({type:v.bootstrap,plugins:R,config:L,params:b,user:M,initialUser:n,persistedUser:x});var B=R.filter(function(i){return r.pluginEnabled[i]}),ye=R.filter(function(i){return!r.pluginEnabled[i]});return w.dispatch({type:v.registerPlugins,plugins:R,enabled:r.pluginEnabled}),r.pluginsArray.map(function(i,o){var f=i.bootstrap,P=i.config,S=i.name;f&&H(f)&&f({instance:l,config:P,payload:i}),w.dispatch({type:v.registerPluginType(S),name:S,enabled:r.pluginEnabled[S],plugin:i}),r.pluginsArray.length===o+1&&w.dispatch({type:v.initializeStart,plugins:B,disabled:ye})}),jn(function(i){w.dispatch({type:i?v.offline:v.online})}),function(i,o,f){setInterval(function(){return At(i,o,f)},3e3)}(w,T,l),l}var Ne="before",Ae="after",Ie="cookie",te=Rt(),qt=Ce,An=Ce;function Vt(e){return te?Ce(e,"",-1):ge(e)}function Rt(){if(te!==void 0)return te;var e="cookiecookie";try{Ce(e,e),te=document.cookie.indexOf(e)!==-1,Vt(e)}catch(t){te=!1}return te}function Ce(e,t,n,r,a,c){if(typeof window<"u"){var u=arguments.length>1;return te===!1&&(u?ae(e,t):ie(e)),u?document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString()+(r?"; path="+r:"")+(a?"; domain="+a:"")+(c?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}}var Pe="localStorage",Tn=Ye.bind(null,"localStorage");ve("localStorage","getItem",ie);ve("localStorage","setItem",ae);ve("localStorage","removeItem",ge);var Se="sessionStorage",$n=Ye.bind(null,"sessionStorage");ve("sessionStorage","getItem",ie);ve("sessionStorage","setItem",ae);ve("sessionStorage","removeItem",ge);function fe(e){var t=e;try{if((t=JSON.parse(e))==="true")return!0;if(t==="false")return!1;if(J(t))return t;parseFloat(t)===t&&(t=parseFloat(t))}catch(n){}if(t!==null&&t!=="")return t}var Mn=Tn(),zn=$n(),Un=Rt();function Bt(e,t){if(e){var n=He(t),r=!Ze(n),a=Ge(n)?fe(localStorage.getItem(e)):void 0;if(r&&!oe(a))return a;var c=Ke(n)?fe(qt(e)):void 0;if(r&&c)return c;var u=Qe(n)?fe(sessionStorage.getItem(e)):void 0;if(r&&u)return u;var s=ie(e);return r?s:{localStorage:a,sessionStorage:u,cookie:c,global:s}}}function Dn(e,t,n){if(e&&!oe(t)){var r={},a=He(n),c=JSON.stringify(t),u=!Ze(a);return Ge(a)&&(r[Pe]=Te(Pe,t,fe(localStorage.getItem(e))),localStorage.setItem(e,c),u)?r[Pe]:Ke(a)&&(r[Ie]=Te(Ie,t,fe(qt(e))),An(e,c),u)?r[Ie]:Qe(a)&&(r[Se]=Te(Se,t,fe(sessionStorage.getItem(e))),sessionStorage.setItem(e,c),u)?r[Se]:(r[we]=Te(we,t,ie(e)),ae(e,t),u?r[we]:r)}}function Ln(e,t){if(e){var n=He(t),r=Bt(e,xt),a={};return!oe(r.localStorage)&&Ge(n)&&(localStorage.removeItem(e),a[Pe]=r.localStorage),!oe(r.cookie)&&Ke(n)&&(Vt(e),a[Ie]=r.cookie),!oe(r.sessionStorage)&&Qe(n)&&(sessionStorage.removeItem(e),a[Se]=r.sessionStorage),!oe(r.global)&&qe(n,we)&&(ge(e),a[we]=r.global),a}}function He(e){return e?ce(e)?e:e.storage:Et}function Ge(e){return Mn&&qe(e,Pe)}function Ke(e){return Un&&qe(e,Ie)}function Qe(e){return zn&&qe(e,Se)}function Ze(e){return e===xt||e==="all"}function qe(e,t){return e===Et||e===t||Ze(e)}function Te(e,t,n){return{location:e,current:t,previous:n}}var Cn={setItem:Dn,getItem:Bt,removeItem:Ln};function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pt(Object(n),!0).forEach(function(r){qn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t={storage:Cn};return Nn(St(St({},t),e))}function Rn(e){const t={enabled:!0},n=()=>typeof window>"u"||typeof document>"u"?!1:typeof window.ym=="function",r=a=>!!a.enabled&&n();return{name:"yandexMetrika",config:{...t,...e},initialize({config:a}){var c;if(!(!a.enabled||n())){if(!a.counterId)throw new Error("YandexMetrikaPlugin: counterId is required.");((u,s,h,m,T)=>{var g,j;(g=u[T])!=null||(u[T]=function(...I){var x;var b;u.ym&&((x=(b=u.ym).a)!=null||(b.a=[]),u.ym.a.push(I))}),u[T].l=new Date().getTime();const d=s.createElement(h),E=s.getElementsByTagName(h)[0];d.async=!0,d.src=m,(j=E.parentNode)==null||j.insertBefore(d,E)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),(c=window.ym)!=null||(window.ym=(...u)=>{var h;var s;((h=(s=window.ym).a)!=null?h:s.a=[]).push(u)}),window.ym(a.counterId,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})}},loaded(){return n()},track:({payload:a,config:c})=>{if(!r(c))return;const u=c.mapEvents||{},s=u[a.event]||a.event;c.dev&&!u[a.event]&&console.warn('[YandexMetrika] No mapped goal for event "'.concat(a.event,'", sending as-is')),window.ym(c.counterId,"reachGoal",s,a.properties)},page:({payload:a,config:c})=>{var h;if(!r(c))return;const{properties:u={}}=a,s=(h=u.url)!=null?h:window.location.href;window.ym(c.counterId,"hit",s,u)},identify:({payload:a,config:c})=>{if(!r(c))return;const u=a.traits;if(window.ym(c.counterId,"setUserID",a.userId),u&&Object.keys(u).length>0){window.ym(c.counterId,"userParams",{...u,UserID:a.userId});const s={};u.email&&(s.email=u.email),u.phone_number&&(s.phone_number=u.phone_number),u.first_name&&(s.first_name=u.first_name),u.last_name&&(s.last_name=u.last_name),u.yandex_cid&&(s.yandex_cid=u.yandex_cid),window.ym(c.counterId,"firstPartyParams",s)}}}}const Bn=!0,Jn=[Rn({counterId:"25559621",enabled:Bn,mapEvents:{signed_up:"ym-register",signed_in:"ym-login",program_started:"ym-start-course",lead_created:"ym-submit-leadform",email_confirmed:"ym-confirm-contact"}})],G=Vn({debug:!1,app:"hexlet",version:100,plugins:Jn}),Fn=window.gon.fired_events,Wn=Object.entries(Fn).map(([e,t])=>({type:e,data:t}));for(const e of Wn)switch(e.type){case"signed_up":G.identify(e.data.id.toString(),e.data),G.track("signed_up",e.data);break;case"signed_in":G.identify(e.data.id.toString(),e.data),G.track("signed_in",e.data);break;case"sign_up_failed":G.track("sign_up_failed",e.data);break;case"program_started":G.track("program_started",e.data);break;case"lesson_started":G.track("lesson_started",e.data);break;case"lead_created":G.track("lead_created",e.data);break;case"email_confirmed":G.track("email_confirmed",e.data);break}export{Xn as __vite_legacy_guard};
